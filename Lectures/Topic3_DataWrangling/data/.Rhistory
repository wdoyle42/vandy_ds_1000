PIDTherm = abs(FT_Dem-FT_Rep))
DemMask <- dat %>%
filter(QPID == "Democrat" & h_Masking == 1  & Qvisibilitymask_1 <= 2) %>%
transmute(Status = "DemMask",
PIDTherm = abs(FT_Dem-FT_Rep))
RepMask <- dat %>%
filter(QPID == "Republican" & h_Masking == 1  & Qvisibilitymask_1 <= 2) %>%
transmute(Status = "RepMask",
PIDTherm = abs(FT_Dem-FT_Rep))
DemNomask <- dat %>%
filter(QPID == "Democrat" & h_Masking == 0  & Qvisibilitymask_1 <= 2) %>%
transmute(Status = "DemNomask",
PIDTherm = abs(FT_Dem-FT_Rep))
RepNomask <- dat %>%
filter(QPID == "Republican" & h_Masking == 0  & Qvisibilitymask_1 <= 2) %>%
transmute(Status = "RepNomask",
PIDTherm = abs(FT_Dem-FT_Rep))
diffgroup <- bind_rows(DemVax,RepVax,DemUnvax,RepUnvax,DemMask,RepMask,DemNomask,RepNomask)
diffgroup$Ingroup <- factor(diffgroup$Status,levels = c("DemVaxed","DemMask","DemUnvaxed","DemNomask","RepVaxed","RepMask","RepUnvaxed","RepNomask"))
diffgroup1 <- diffgroup %>%
mutate(Community = "High Masking")
DemVax <- dat %>%
filter(QPID == "Democrat" & h_Vaxed == 1  & Qvisibilitymask_1 >= 3) %>%
transmute(Status = "DemVaxed",
PIDTherm = abs(FT_Dem-FT_Rep))
RepVax <- dat %>%
filter(QPID == "Republican" & h_Vaxed == 1  & Qvisibilitymask_1 >= 3) %>%
transmute(Status = "RepVaxed",
PIDTherm = abs(FT_Dem-FT_Rep))
DemUnvax <- dat %>%
filter(QPID == "Democrat" & h_Vaxed == 0  & Qvisibilitymask_1 >= 3) %>%
transmute(Status = "DemUnvaxed",
PIDTherm = abs(FT_Dem-FT_Rep))
RepUnvax <- dat %>%
filter(QPID == "Republican" & h_Vaxed == 0  & Qvisibilitymask_1 >= 3) %>%
transmute(Status = "RepUnvaxed",
PIDTherm = abs(FT_Dem-FT_Rep))
DemMask <- dat %>%
filter(QPID == "Democrat" & h_Masking == 1  & Qvisibilitymask_1 >= 3) %>%
transmute(Status = "DemMask",
PIDTherm = abs(FT_Dem-FT_Rep))
RepMask <- dat %>%
filter(QPID == "Republican" & h_Masking == 1  & Qvisibilitymask_1 >= 3) %>%
transmute(Status = "RepMask",
PIDTherm = abs(FT_Dem-FT_Rep))
DemNomask <- dat %>%
filter(QPID == "Democrat" & h_Masking == 0  & Qvisibilitymask_1 >= 3) %>%
transmute(Status = "DemNomask",
PIDTherm = abs(FT_Dem-FT_Rep))
RepNomask <- dat %>%
filter(QPID == "Republican" & h_Masking == 0  & Qvisibilitymask_1 >= 3) %>%
transmute(Status = "RepNomask",
PIDTherm = abs(FT_Dem-FT_Rep))
diffgroup <- bind_rows(DemVax,RepVax,DemUnvax,RepUnvax,DemMask,RepMask,DemNomask,RepNomask)
diffgroup$Ingroup <- factor(diffgroup$Status,levels = c("DemVaxed","DemMask","DemUnvaxed","DemNomask","RepVaxed","RepMask","RepUnvaxed","RepNomask"))
diffgroup2 <- diffgroup %>%
mutate(Community = "Low Masking")
diffgroup <- bind_rows(diffgroup1,diffgroup2)
diffgroup %>%
ggplot(aes(x = Ingroup, y = PIDTherm, fill = Community)) +
stat_summary(fun.data=mean_sdl, geom="bar") +
stat_summary(fun.data = mean_cl_normal, geom = "errorbar",
width = 0.1, position=position_nudge(x = 0.1)) +
stat_summary(fun.y = mean, geom = "point",
size = 3, position=position_nudge(x = 0.1)) +
labs(x = "", y = "Abs. Dem - Rep. Difference",title = "Dem - Rep Absolute Average") +theme_classic() + coord_flip() +
scale_x_discrete(labels=c("DemVaxed" = "Dem Vaxed", "DemMask" = "Dem Masked","DemUnVaxed" = "Dem Unvaxed", "DemNomask" = "Dem Unmasked","RepVaxed" = "Rep Vaxed", "RepMask" = "Rep Masked", "RepUnvaxed" = "Rep Unvaxed" , "RepNomask" = "Rep Unmasked"))
diffgroup %>%
ggplot(aes(x = Ingroup, y = PIDTherm, fill = Community)) +
stat_summary(fun.data=mean_sdl, geom="bar", position = "dodge")
diffgroup %>%
ggplot(aes(x = Ingroup, y = PIDTherm, fill = Community)) +
stat_summary(fun.data=mean_sdl, geom="bar", position = "dodge") +
stat_summary(fun.data = mean_cl_normal, geom = "errorbar",
width = 0.1, position="dodge")
diffgroup %>%
ggplot(aes(x = Ingroup, y = PIDTherm, fill = Community)) +
stat_summary(fun.data=mean_sdl, geom="bar", position = "dodge") +
stat_summary(fun.data = mean_cl_normal, geom = "errorbar",
width = 0.1, position="dodge") +
labs(x = "", y = "Abs. Dem - Rep. Difference",title = "Dem - Rep Absolute Average") +theme_classic() + coord_flip() +
scale_x_discrete(labels=c("DemVaxed" = "Dem Vaxed", "DemMask" = "Dem Masked","DemUnVaxed" = "Dem Unvaxed", "DemNomask" = "Dem Unmasked","RepVaxed" = "Rep Vaxed", "RepMask" = "Rep Masked", "RepUnvaxed" = "Rep Unvaxed" , "RepNomask" = "Rep Unmasked"))
diffgroup %>%
ggplot(aes(x = Ingroup, y = PIDTherm, fill = Community)) +
stat_summary(fun.data=mean_sdl, geom="bar", position = "dodge") +
stat_summary(fun.data = mean_cl_normal, geom = "errorbar",
width = 0.75, position="dodge") +
labs(x = "", y = "Abs. Dem - Rep. Difference",title = "Dem - Rep Absolute Average") +theme_classic() + coord_flip() +
scale_x_discrete(labels=c("DemVaxed" = "Dem Vaxed", "DemMask" = "Dem Masked","DemUnVaxed" = "Dem Unvaxed", "DemNomask" = "Dem Unmasked","RepVaxed" = "Rep Vaxed", "RepMask" = "Rep Masked", "RepUnvaxed" = "Rep Unvaxed" , "RepNomask" = "Rep Unmasked"))
diffgroup %>%
ggplot(aes(x = Ingroup, y = PIDTherm, fill = Community)) +
stat_summary(fun.data=mean_sdl, geom="bar", position = "dodge") +
stat_summary(fun.data = mean_cl_normal, geom = "errorbar",
width = 0.75, position="dodge") +
labs(x = "", y = "Abs. Dem - Rep. Difference",title = "Dem - Rep Absolute Average by Status and Community Masking") +theme_classic() + coord_flip() +
scale_x_discrete(labels=c("DemVaxed" = "Dem Vaxed", "DemMask" = "Dem Masked","DemUnVaxed" = "Dem Unvaxed", "DemNomask" = "Dem Unmasked","RepVaxed" = "Rep Vaxed", "RepMask" = "Rep Masked", "RepUnvaxed" = "Rep Unvaxed" , "RepNomask" = "Rep Unmasked"))
# Reference category: Vaccinated Democrats
lm.PIDthermraw <- lm(PIDTherm ~ Ingroup, data = diffgroup)
coef1 <- tidy(lm.PIDthermraw, conf.int = TRUE)
coef1$term <- c("Intercept (Dem Vaxed)","Dem Wears Mask","Dem Unvaccinated","Dem Unmasked","Rep Vaxed","Rep Masked","Rep Unvaxed","Rep Unmasked")
coef1 <- coef1 %>%
filter(term != "Intercept (Dem Vaxed)") %>%
arrange(-estimate)
dwplot(coef1) + labs(title="Marginal Effect on Abs. Party Thermometer Relative to Vaxed Dems",color="")
# Reference category: Vaccinated Democrats
lm.PIDthermraw <- lm(PIDTherm ~ Ingroup, data = diffgroup)
coef1 <- tidy(lm.PIDthermraw, conf.int = TRUE)
coef1$term <- c("Intercept (Dem Vaxed)","Dem Wears Mask","Dem Unvaccinated","Dem Unmasked","Rep Vaxed","Rep Masked","Rep Unvaxed","Rep Unmasked")
coef1 <- coef1 %>%
filter(term != "Intercept (Dem Vaxed)") %>%
arrange(-estimate)
dwplot(coef1) + labs(title="Marginal Effect on Abs. Party Thermometer Relative to Vaxed Dems",color="")
dat <- dat %>%
filter(QPID != "Other")
lm.Demographics <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron,
data=dat)
lm.DemographicsHeath <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking,data=dat)
lm.DemographicsHeathPID <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat,data=dat)
lm.DemographicsHeathPIDValues <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov + p_Libertarianism + p_ScienceFear + p_SocialMonitor + p_Altruism,data=dat)
library(stargazer)
stargazer(lm.Demographics,lm.DemographicsHeath,lm.DemographicsHeathPID,lm.DemographicsHeathPIDValues,
type="text",
covariate.labels = c("Has Kids","Health Condition","White","Black","Hispanic","Male", "Age","Some College","College","Graduate Degree","Post Omicron (11/26)", "Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer","Born Again","Republican","Democrat","Limited Govt", "Libertarianism", "Fear Science","Social Performer","Altruistic Acts"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Vaccinated - Unvaccinated"),
dep.var.caption="Thermometer Score Difference:", digits=2)
dat <- dat %>%
filter(QPID != "Other")
lm.Demographics <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron,
data=dat)
lm.DemographicsHeath <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking,data=dat)
lm.DemographicsHeathPID <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat,data=dat)
lm.DemographicsHeathPIDValues <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.Demographics,lm.DemographicsHeath,lm.DemographicsHeathPID,lm.DemographicsHeathPIDValues,
type="text",
covariate.labels = c("Has Kids","Health Condition","White","Black","Hispanic","Male", "Age","Some College","College","Graduate Degree","Post Omicron (11/26)", "Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer","Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Vaccinated - Unvaccinated"),
dep.var.caption="Thermometer Score Difference:", digits=2)
# Partisan Differences
lm.DR.DemographicsHeathPIDValues <- lm(FT_Dem - FT_Rep ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues <- lm(FT_Mask - FT_Unmask ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.DR.DemographicsHeathPIDValues,lm.Mask.DemographicsHeathPIDValues,lm.Vax.DemographicsHeathPIDValues,
type="text",
covariate.labels = c("Has Kids","Health Condition","White","Black","Hispanic","Male", "Age","Some College","College","Graduate Degree","Post Omicron (11/26)","Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer", "Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Dem - Rep", "Masked - Unmasked" , "Vaxed - Unvaxed"),
dep.var.caption="Thermometer Score Difference:",digits=2)
# Partisan Differences
lm.DR.DemographicsHeathPIDValues <- lm(FT_Dem - FT_Rep ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues <- lm(FT_Mask - FT_Unmask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.DR.DemographicsHeathPIDValues,lm.Mask.DemographicsHeathPIDValues,lm.Vax.DemographicsHeathPIDValues,
type="text",
covariate.labels = c("Has Kids","Health Condition","Black","Hispanic","Male", "Age","Some College","College","Graduate Degree","Post Omicron (11/26)","Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer", "Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Dem - Rep", "Masked - Unmasked" , "Vaxed - Unvaxed"),
dep.var.caption="Thermometer Score Difference:",digits=2)
dat$Ag
lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age3049 + d_Age5064 + d_Age65plus + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
# Partisan Differences
lm.DR.DemographicsHeathPIDValues <- lm(FT_Dem - FT_Rep ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age3049 + d_Age5064 + d_Age65plus + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues <- lm(FT_Mask - FT_Unmask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age3049 + d_Age5064 + d_Age65plus + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age3049 + d_Age5064 + d_Age65plus + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.DR.DemographicsHeathPIDValues,lm.Mask.DemographicsHeathPIDValues,lm.Vax.DemographicsHeathPIDValues,
type="text",
covariate.labels = c("Has Kids","Health Condition","Black","Hispanic","Male", "Age 30-49","Age 50-64","Age 65plus","Some College","College","Graduate Degree","Post Omicron (11/26)","Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer", "Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Dem - Rep", "Masked - Unmasked" , "Vaxed - Unvaxed"),
dep.var.caption="Thermometer Score Difference:",digits=2)
# Partisan Differences
lm.DR.DemographicsHeathPIDValues <- lm(FT_Dem - FT_Rep ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus +  h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues <- lm(FT_Mask - FT_Unmask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues <- lm(FT_Vax - FT_Unvax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus +  h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.DR.DemographicsHeathPIDValues,lm.Mask.DemographicsHeathPIDValues,lm.Vax.DemographicsHeathPIDValues,
type="text",
covariate.labels = c("Has Kids","Health Condition","Black","Hispanic","Male", "Age 65plus","Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer", "Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Dem - Rep", "Masked - Unmasked" , "Vaxed - Unvaxed"),
dep.var.caption="Thermometer Score Difference:",digits=2)
# Partisan Differences
lm.DR.DemographicsHeathPIDValues <- lm(FT_Dem ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.DR.DemographicsHeathPIDValues.0 <- lm(FT_Rep ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues <- lm(FT_Mask ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues.0 <- lm(FT_Unmask ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues <- lm(FT_Vax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues.0 <- lm(FT_Unvax ~ d_kids + h_healthcondition + d_Race_White + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.DR.DemographicsHeathPIDValues,lm.Mask.DemographicsHeathPIDValues,lm.Vax.DemographicsHeathPIDValues, lm.DR.DemographicsHeathPIDValues.0,lm.Mask.DemographicsHeathPIDValues.0,lm.Vax.DemographicsHeathPIDValues.0,
type="text",
covariate.labels = c("Has Kids","Health Condition","White","Black","Hispanic","Male", "Age","Some College","College","Graduate Degree","Post Omicron (11/26)","Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer", "Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Dem","Rep", "Masked","Unmasked" , "Vaxed","Unvaxed"),
dep.var.caption="Thermometer Score Correlates",digits=2)
# Partisan Differences
lm.DR.DemographicsHeathPIDValues <- lm(FT_Dem ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.DR.DemographicsHeathPIDValues.0 <- lm(FT_Rep ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues <- lm(FT_Mask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues.0 <- lm(FT_Unmask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues <- lm(FT_Vax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues.0 <- lm(FT_Unvax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_age + d_Educat + PostOmicron + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.DR.DemographicsHeathPIDValues,lm.Mask.DemographicsHeathPIDValues,lm.Vax.DemographicsHeathPIDValues, lm.DR.DemographicsHeathPIDValues.0,lm.Mask.DemographicsHeathPIDValues.0,lm.Vax.DemographicsHeathPIDValues.0,
type="text",
covariate.labels = c("Has Kids","Health Condition","Black","Hispanic","Male", "Age","Some College","College","Graduate Degree","Post Omicron (11/26)","Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer", "Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Dem","Rep", "Masked","Unmasked" , "Vaxed","Unvaxed"),
dep.var.caption="Thermometer Score Correlates",digits=2)
# Partisan Differences
lm.DR.DemographicsHeathPIDValues <- lm(FT_Dem ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.DR.DemographicsHeathPIDValues.0 <- lm(FT_Rep ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues <- lm(FT_Mask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues.0 <- lm(FT_Unmask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues <- lm(FT_Vax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues.0 <- lm(FT_Unvax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.DR.DemographicsHeathPIDValues,lm.Mask.DemographicsHeathPIDValues,lm.Vax.DemographicsHeathPIDValues, lm.DR.DemographicsHeathPIDValues.0,lm.Mask.DemographicsHeathPIDValues.0,lm.Vax.DemographicsHeathPIDValues.0,
type="text",
covariate.labels = c("Has Kids","Health Condition","Black","Hispanic","Male","Age 65 plus","Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer", "Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Dem","Rep", "Masked","Unmasked" , "Vaxed","Unvaxed"),
dep.var.caption="Thermometer Score Correlates",digits=2)
lm(FT_Rep ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
# Partisan Differences
lm.DR.DemographicsHeathPIDValues <- lm(FT_Dem ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.DR.DemographicsHeathPIDValues.0 <- lm(FT_Rep ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues <- lm(FT_Mask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Mask.DemographicsHeathPIDValues.0 <- lm(FT_Unmask ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues <- lm(FT_Vax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
lm.Vax.DemographicsHeathPIDValues.0 <- lm(FT_Unvax ~ d_kids + h_healthcondition + d_Race_Black + d_Hispanic + d_GenderMale + d_Age65plus + h_fearneedles + h_Vaxed + h_CovidPositive + h_KnowCovidDeath + h_Masking + p_BornAgain + p_Republican + p_Democrat + p_LimitedGov1 + p_SelfReliance + p_ScienceTooFast + p_PutOnShow + p_StrangerCutLine,data=dat)
library(stargazer)
stargazer(lm.DR.DemographicsHeathPIDValues,lm.DR.DemographicsHeathPIDValues.0,lm.Vax.DemographicsHeathPIDValues,lm.Vax.DemographicsHeathPIDValues.0,lm.Mask.DemographicsHeathPIDValues,lm.Mask.DemographicsHeathPIDValues.0,
type="text",
covariate.labels = c("Has Kids","Health Condition","Black","Hispanic","Male","Age 65 plus","Fear of Needles","Is Vaccinated","Tested Postive","Know Covid Death", "Mask Wearer", "Born Again","Republican","Democrat","Limited Govt", "Self Reliance", "Science Too Fast","Social Performer","Allows Cuts by Strangers"),
keep.stat = c("n","rsq"),
dep.var.labels=c("Dem","Rep", "Masked","Unmasked","Vaxed","Unvaxed"),
dep.var.caption="Thermometer Score Correlates",digits=2)
help(read_rds)
library(tidyverse)
load(file="data/Final MI.Rdata")  # load full exit poll dataset
# select relevant variables
MI_ExitPoll_Select <- select(MI_final,c(SEX,AGE10,PRSMI20,PARTYID,WEIGHT,QRACEAI,EDUC18,LGBT,BRNAGAIN,LATINOS,RACISM20,QLT20))
MI_ExitPoll_Select$SEX <- as.numeric(MI_ExitPoll_Select$SEX)
MI_ExitPoll_Select$AGE10 <- as.numeric(MI_ExitPoll_Select$AGE10)
MI_ExitPoll_Select$QRACEAI <- as.numeric(MI_ExitPoll_Select$QRACEAI)
MI_ExitPoll_Select$EDUC18 <- as.numeric(MI_ExitPoll_Select$EDUC18)
MI_ExitPoll_Select$LGBT <- as.numeric(MI_ExitPoll_Select$LGBT)
MI_ExitPoll_Select$LATINOS <- as.numeric(MI_ExitPoll_Select$LATINOS)
MI_ExitPoll_Select$RACISM20 <- as.numeric(MI_ExitPoll_Select$RACISM20)
MI_ExitPoll_Select$PRSMI20 <- as.numeric(MI_ExitPoll_Select$PRSMI20)
MI_ExitPoll_Select$BRNAGAIN <- as.numeric(MI_ExitPoll_Select$BRNAGAIN)
MI_ExitPoll_Select$preschoice <- NA
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==0] <- "Will/Did not vote for president"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==1] <- "Joe Biden, the Democrat"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==2] <- "Donald Trump, the Republican"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==7] <- "Undecided/Don’t know"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==8] <- "Refused"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==9] <- "Another candidate"
MI_ExitPoll_Select$PARTYID <- as.numeric(MI_ExitPoll_Select$PARTYID)
MI_ExitPoll_Select$Quality <- NA
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==1] <- "Can unite the country"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==2] <- "Is a strong leader"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==3] <- "Cares about people like me"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==4] <- "Has good judgment"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==9] <- "[DON'T READ] Don’t know/refused"
MI_ExitPoll_Select$QLT20 <- as.factor(MI_ExitPoll_Select$Quality)
MI_ExitPoll_Select <- select(MI_ExitPoll_Select,-Quality)
glimpse(MI_ExitPoll_Select)
MI_final <- MI_ExitPoll_Select
load(file="data/Final MI.Rdata")  # load full exit poll dataset
setwd("~/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data")
library(tidyverse)
load(file="data/Final MI.Rdata")  # load full exit poll dataset
MI_ExitPoll_Select <- select(MI_final,c(SEX,AGE10,PRSMI20,PARTYID,WEIGHT,QRACEAI,EDUC18,LGBT,BRNAGAIN,LATINOS,RACISM20,QLT20))
MI_ExitPoll_Select$SEX <- as.numeric(MI_ExitPoll_Select$SEX)
MI_ExitPoll_Select$AGE10 <- as.numeric(MI_ExitPoll_Select$AGE10)
MI_ExitPoll_Select$QRACEAI <- as.numeric(MI_ExitPoll_Select$QRACEAI)
MI_ExitPoll_Select$EDUC18 <- as.numeric(MI_ExitPoll_Select$EDUC18)
MI_ExitPoll_Select$LGBT <- as.numeric(MI_ExitPoll_Select$LGBT)
MI_ExitPoll_Select$LATINOS <- as.numeric(MI_ExitPoll_Select$LATINOS)
MI_ExitPoll_Select$RACISM20 <- as.numeric(MI_ExitPoll_Select$RACISM20)
MI_ExitPoll_Select$PRSMI20 <- as.numeric(MI_ExitPoll_Select$PRSMI20)
MI_ExitPoll_Select$BRNAGAIN <- as.numeric(MI_ExitPoll_Select$BRNAGAIN)
MI_ExitPoll_Select$preschoice <- NA
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==0] <- "Will/Did not vote for president"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==1] <- "Joe Biden, the Democrat"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==2] <- "Donald Trump, the Republican"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==7] <- "Undecided/Don’t know"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==8] <- "Refused"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==9] <- "Another candidate"
MI_ExitPoll_Select$PARTYID <- as.numeric(MI_ExitPoll_Select$PARTYID)
MI_ExitPoll_Select$Quality <- NA
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==1] <- "Can unite the country"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==2] <- "Is a strong leader"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==3] <- "Cares about people like me"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==4] <- "Has good judgment"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==9] <- "[DON'T READ] Don’t know/refused"
MI_ExitPoll_Select$QLT20 <- as.factor(MI_ExitPoll_Select$Quality)
MI_ExitPoll_Select <- select(MI_ExitPoll_Select,-Quality)
glimpse(MI_ExitPoll_Select)
library(tidyverse)
load(file="Final MI.Rdata")  # load full exit poll dataset
# select relevant variables
MI_ExitPoll_Select <- select(MI_final,c(SEX,AGE10,PRSMI20,PARTYID,WEIGHT,QRACEAI,EDUC18,LGBT,BRNAGAIN,LATINOS,RACISM20,QLT20))
MI_ExitPoll_Select$SEX <- as.numeric(MI_ExitPoll_Select$SEX)
MI_ExitPoll_Select$AGE10 <- as.numeric(MI_ExitPoll_Select$AGE10)
MI_ExitPoll_Select$QRACEAI <- as.numeric(MI_ExitPoll_Select$QRACEAI)
MI_ExitPoll_Select$EDUC18 <- as.numeric(MI_ExitPoll_Select$EDUC18)
MI_ExitPoll_Select$LGBT <- as.numeric(MI_ExitPoll_Select$LGBT)
MI_ExitPoll_Select$LATINOS <- as.numeric(MI_ExitPoll_Select$LATINOS)
MI_ExitPoll_Select$RACISM20 <- as.numeric(MI_ExitPoll_Select$RACISM20)
MI_ExitPoll_Select$PRSMI20 <- as.numeric(MI_ExitPoll_Select$PRSMI20)
MI_ExitPoll_Select$BRNAGAIN <- as.numeric(MI_ExitPoll_Select$BRNAGAIN)
MI_ExitPoll_Select$preschoice <- NA
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==0] <- "Will/Did not vote for president"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==1] <- "Joe Biden, the Democrat"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==2] <- "Donald Trump, the Republican"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==7] <- "Undecided/Don’t know"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==8] <- "Refused"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==9] <- "Another candidate"
MI_ExitPoll_Select$PARTYID <- as.numeric(MI_ExitPoll_Select$PARTYID)
MI_ExitPoll_Select$Quality <- NA
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==1] <- "Can unite the country"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==2] <- "Is a strong leader"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==3] <- "Cares about people like me"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==4] <- "Has good judgment"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==9] <- "[DON'T READ] Don’t know/refused"
MI_ExitPoll_Select$QLT20 <- as.factor(MI_ExitPoll_Select$Quality)
MI_ExitPoll_Select <- select(MI_ExitPoll_Select,-Quality)
MI_ExitPoll_Select <- select(MI_ExitPoll_Select,-c(Quality,LGBT,LATIONOS))
# GET MI EXIT POLL DATA READY FOR CLASS
library(tidyverse)
load(file="Final MI.Rdata")  # load full exit poll dataset
# select relevant variables
MI_ExitPoll_Select <- select(MI_final,c(SEX,AGE10,PRSMI20,PARTYID,WEIGHT,QRACEAI,EDUC18,LGBT,BRNAGAIN,LATINOS,RACISM20,QLT20))
MI_ExitPoll_Select$SEX <- as.numeric(MI_ExitPoll_Select$SEX)
MI_ExitPoll_Select$AGE10 <- as.numeric(MI_ExitPoll_Select$AGE10)
MI_ExitPoll_Select$QRACEAI <- as.numeric(MI_ExitPoll_Select$QRACEAI)
MI_ExitPoll_Select$EDUC18 <- as.numeric(MI_ExitPoll_Select$EDUC18)
MI_ExitPoll_Select$LGBT <- as.numeric(MI_ExitPoll_Select$LGBT)
MI_ExitPoll_Select$LATINOS <- as.numeric(MI_ExitPoll_Select$LATINOS)
MI_ExitPoll_Select$RACISM20 <- as.numeric(MI_ExitPoll_Select$RACISM20)
MI_ExitPoll_Select$PRSMI20 <- as.numeric(MI_ExitPoll_Select$PRSMI20)
MI_ExitPoll_Select$BRNAGAIN <- as.numeric(MI_ExitPoll_Select$BRNAGAIN)
MI_ExitPoll_Select$preschoice <- NA
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==0] <- "Will/Did not vote for president"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==1] <- "Joe Biden, the Democrat"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==2] <- "Donald Trump, the Republican"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==7] <- "Undecided/Don’t know"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==8] <- "Refused"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==9] <- "Another candidate"
MI_ExitPoll_Select$PARTYID <- as.numeric(MI_ExitPoll_Select$PARTYID)
MI_ExitPoll_Select$Quality <- NA
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==1] <- "Can unite the country"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==2] <- "Is a strong leader"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==3] <- "Cares about people like me"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==4] <- "Has good judgment"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==9] <- "[DON'T READ] Don’t know/refused"
MI_ExitPoll_Select$QLT20 <- as.factor(MI_ExitPoll_Select$Quality)
MI_ExitPoll_Select <- select(MI_ExitPoll_Select,-c(Quality,LGBT,LATIONOS))
glimpse(MI_ExitPoll_Select)
MI_final <- MI_ExitPoll_Select
help(save)
save(MI_final_small,MI_final,file="MI2020_ExitPoll.Rdata")
# GET MI EXIT POLL DATA READY FOR CLASS
library(tidyverse)
load(file="Final MI.Rdata")  # load full exit poll dataset
# select relevant variables
MI_ExitPoll_Select <- select(MI_final,c(SEX,AGE10,PRSMI20,PARTYID,WEIGHT,QRACEAI,EDUC18,LGBT,BRNAGAIN,LATINOS,RACISM20,QLT20))
MI_ExitPoll_Select$SEX <- as.numeric(MI_ExitPoll_Select$SEX)
MI_ExitPoll_Select$AGE10 <- as.numeric(MI_ExitPoll_Select$AGE10)
MI_ExitPoll_Select$QRACEAI <- as.numeric(MI_ExitPoll_Select$QRACEAI)
MI_ExitPoll_Select$EDUC18 <- as.numeric(MI_ExitPoll_Select$EDUC18)
MI_ExitPoll_Select$LGBT <- as.numeric(MI_ExitPoll_Select$LGBT)
MI_ExitPoll_Select$LATINOS <- as.numeric(MI_ExitPoll_Select$LATINOS)
MI_ExitPoll_Select$RACISM20 <- as.numeric(MI_ExitPoll_Select$RACISM20)
MI_ExitPoll_Select$PRSMI20 <- as.numeric(MI_ExitPoll_Select$PRSMI20)
MI_ExitPoll_Select$BRNAGAIN <- as.numeric(MI_ExitPoll_Select$BRNAGAIN)
MI_ExitPoll_Select$preschoice <- NA
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==0] <- "Will/Did not vote for president"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==1] <- "Joe Biden, the Democrat"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==2] <- "Donald Trump, the Republican"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==7] <- "Undecided/Don’t know"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==8] <- "Refused"
MI_ExitPoll_Select$preschoice[MI_ExitPoll_Select$PRSMI20==9] <- "Another candidate"
MI_ExitPoll_Select$PARTYID <- as.numeric(MI_ExitPoll_Select$PARTYID)
MI_ExitPoll_Select$Quality <- NA
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==1] <- "Can unite the country"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==2] <- "Is a strong leader"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==3] <- "Cares about people like me"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==4] <- "Has good judgment"
MI_ExitPoll_Select$Quality[MI_ExitPoll_Select$QLT20==9] <- "[DON'T READ] Don’t know/refused"
MI_ExitPoll_Select$QLT20 <- as.factor(MI_ExitPoll_Select$Quality)
MI_ExitPoll_Select <- select(MI_ExitPoll_Select,-c(Quality,LGBT,LATIONOS))
glimpse(MI_ExitPoll_Select)
MI_final_small <- MI_ExitPoll_Select
save(MI_final_small,MI_final,file="MI2020_ExitPoll.Rdata")
saveRDS("MI2020_ExitPoll_small.rds")
options(width=40)
library(knitr)
opts_knit$set(error=FALSE)
opts_chunk$set(size="footnotesize", comment='',warning = FALSE,message = FALSE,fig.align = "center")
options(scipen=999)
mi_ep <- read_rds("MI2020_ExitPoll_small.rds")
load(file = "data/MI2020_ExitPoll.Rdata")
objects()
mi_ep <- read_rds("data/MI2020_ExitPoll_small.rds")
getwd()
saveRDS(MI_final_small,file="MI2020_ExitPoll_small.rds")
mi_ep <- read_rds("data/MI2020_ExitPoll_small.rds")
read_rds("data/MI2020_ExitPoll_small.rds")
read_rds("data/MI2020_ExitPoll_small.rds")
jh.covid <- read.csv(url("https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv")
jh.covid <- read.csv(url("https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv"))
jh.covid[1,]
jh.covid <- read.csv(url("https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv"))
jh.covid <- read.csv("https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv")
jh.covid <- read.csv("https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv")
jh.covid <- read.csv("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv")
jh.covid <- read.csv("csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv")
jh.covid <- read.csv("https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv")
jh.covid <- read.csv("https://github.com/CSSEGISandData/COVID-19/blob/master/csse_covid_19_data/csse_covid_19_daily_reports_us/12-31-2020.csv")
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/PA.Rdata")
knitr::opts_chunk$set(echo = TRUE)
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/PA.Rdata")
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/NC.Rdata")
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/FL.Rdata")
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/TX.Rdata")
ExitPolls <- bind_rows(d.pa,d.fl,f.tx,d.nc)
# Loading in required libraries
library(tidyverse)
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/PA.Rdata")
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/NC.Rdata")
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/FL.Rdata")
load("/Users/clintojd/GitHub/vandy_ds_1000_materials/Lectures/Topic3_DataWrangling/data/TX.Rdata")
ExitPolls <- bind_rows(d.pa,d.fl,f.tx,d.nc)
ExitPolls <- bind_rows(d.pa,d.fl,d.tx,d.nc)
ExitPolls
glimpse(ExitPolls)
ExitPolls_small <- ExitPolls %>%
select(female,AgeUnder30,Age6074,state,vote.choice)
ExitPolls_small %>%
filter(AgeUnder30==1) %>%
count(vote.choice)
ExitPolls_small <- ExitPolls %>%
select(female,AgeUnder30,Age6074,state,vote.choice) %>%
filter(vote.choice == "Biden" | vote.choice == "Trump")
ExitPolls_small %>%
filter(female ==1 & AgeUnder30==1) %>%
count(vote.choice)
ExitPolls_small <- ExitPolls_small %>%
mutate(BidenVoter = ifelse(vote.choice=="Biden",1,0))
ExitPolls_small %>%
filter(female ==1 & AgeUnder30==1) %>%
summarize(BidenVoter)
ExitPolls_small %>%
filter(female ==1 & AgeUnder30==1) %>%
summarize(PctBiden = mean(BidenVoter))
ExitPolls_small %>%
group_by(female) %>%
filter(AgeUnder30==1) %>%
summarize(PctBiden = mean(BidenVoter))
ExitPolls_small %>%
group_by(female,AgeUnder30) %>%
summarize(PctBiden = mean(BidenVoter))
glimpse(ExitPolls_small)
ExitPolls_small %>%
count(female)
ExitPolls <- ExitPolls %>%
drop_na(female)
ExitPolls_small <- ExitPolls_small %>%
drop_na(female)
ExitPolls_small <- ExitPolls_small %>%
mutate(BidenVoter = ifelse(vote.choice=="Biden",1,0))
ExitPolls_small %>%
filter(female ==1 & AgeUnder30==1) %>%
summarize(PctBiden = mean(BidenVoter))
ExitPolls_small %>%
group_by(female,AgeUnder30) %>%
summarize(PctBiden = mean(BidenVoter))
ExitPolls_small %>%
group_by(state,female,AgeUnder30) %>%
summarize(PctBiden = mean(BidenVoter))
ExitPolls_small %>%
select(AgeUnder30) %>%
group_by(state,female) %>%
summarize(PctBiden = mean(BidenVoter))
ExitPolls_small %>%
filter(AgeUnder30==1) %>%
group_by(state,female) %>%
summarize(PctBiden = mean(BidenVoter))
ExitPolls_small %>%
filter(AgeUnder30==1) %>%
group_by(state,female) %>%
count(BidenVoter)
ExitPolls_small %>%
filter(AgeUnder30==1) %>%
group_by(state,female) %>%
count(BidenVoter)
ExitPolls_small %>%
filter(AgeUnder30==1) %>%
group_by(state,female) %>%
summarize(PctBiden = mean(BidenVoter))
ExitPolls_small %>%
filter(AgeUnder30==1) %>%
count(state)
